<!DOCTYPE html>
<html>
  <head>
    <title>Simple Blog App - EJS</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="/public/style.css" />

    <!-- Font Awesome -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
      integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />

    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <body class="bg-gray-300">
    <main class="w-full min-h-screen p-5 flex flex-col gap-2.5">
      <% posts.forEach((post, index) => { %>
      <article
        class="blog-post relative flex flex-col gap-5 bg-white rounded-md p-5"
        data-post-id="<%= post.id %>"
      >
        <h3 class="blog-post-title text-2xl font-semibold">
          <%= post.title %>
        </h3>
        <p class="blog-post-content"><%= post.content %></p>

        <div
          class="blog-post-actions absolute top-5 right-5"
          data-editing-post-state="false"
        >
          <!-- EDITING BUTTONS -->

          <!-- POST EDIT BUTTON -->
          <button
            class="update-blog-post-button w-8 h-8 bg-gray-200 rounded-md transition-all hover:bg-gray-300"
          >
            <i class="fa-solid fa-upload text-black"></i>
          </button>

          <!-- CANCEL EDIT BUTTOn -->
          <button
            class="cancel-update-blog-post-button w-8 h-8 bg-gray-200 rounded-md transition-all hover:bg-gray-300"
          >
            <i class="fa-solid fa-xmark text-black"></i>
          </button>

          <!-- EDIT BUTTON -->
          <button
            class="edit-blog-post-button w-8 h-8 bg-gray-200 rounded-md transition-all hover:bg-gray-300"
          >
            <i class="fa-solid fa-pen-to-square text-black"></i>
          </button>

          <!-- DELETE BUTTON -->
          <button
            class="delete-blog-post-button w-8 h-8 bg-gray-200 rounded-md transition-all hover:bg-gray-300"
          >
            <i class="fa-solid fa-trash text-red-500"></i>
          </button>
        </div>
      </article>
      <% }) %>
    </main>

    <form
      id="posts-form"
      class="fixed left-0 transition-all duration-500 w-full flex flex-col pt-10 px-5 py-5 bg-purple-300"
      data-opened-state="false"
    >
      <button
        type="button"
        id="toggle-open-form-button"
        class="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-1/2 bg-purple-800 text-white w-12 h-12 rounded-full"
      >
        <i class="transition-all duration-500 fa-solid fa-chevron-down"></i>
      </button>

      <input
        type="text"
        name="title"
        class="mb-2.5 p-2.5 rounded-md"
        placeholder="Title"
      />
      <textarea
        type="text"
        name="content"
        class="mb-2.5 p-2.5 rounded-md"
        placeholder="Content"
      ></textarea>

      <button
        class="transition-colors bg-purple-700 hover:bg-purple-900 p-2.5 rounded-md text-white"
      >
        <span>New post</span>
      </button>
    </form>

    <script src="/public/script.js"></script>
  </body>
</html>
